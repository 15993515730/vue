<template>
<div class="main">
  <div class="index">
    <div class="banner">
      <div class="banner_content">
        <div class="swiper-container">
          <div class="swiper-wrapper">
            <div class="swiper-slide" @click="cli(1)">
              <img
                src="https://pic.ecook.cn/web/264460137.jpg!wh882"
                alt=""
                class="swiper_img"
              />
              <p class="slide-shade">
                <span class="swiper_word">èŠ¹èœæ‹Œè…ç«¹</span>
              </p>
            </div>
            <div class="swiper-slide" @click="cli(2)">
              <img
                src="https://pic.ecook.cn/web/264460061.jpg!wh882"
                alt=""
                class="swiper_img"
              />
              <p class="slide-shade">
                <span class="swiper_word">èŠ±è›¤ç²‰ä¸</span>
              </p>
            </div>
            <div class="swiper-slide" @click="cli(3)">
              <img
                src="https://pic.ecook.cn/web/264458868.jpg!wh882"
                alt=""
                class="swiper_img"
              />
              <p class="slide-shade">
                <span class="swiper_word">ğŸ“æŠ¹èŒ¶è‰è“æµ·ç›è›‹å·ğŸ“</span>
              </p>
            </div>
            <div class="swiper-slide">
              <img
                src="https://pic.ecook.cn/web/264443620.jpg!wh882"
                alt=""
                class="swiper_img"
              />
              <p class="slide-shade">
                <span class="swiper_word">èŠ¹èœç‚’æœ¨è€³</span>
              </p>
            </div>
            <div class="swiper-slide" @click="cli(4)">
              <img
                src="https://pic.ecook.cn/web/264460907.jpg!wh882"
                alt=""
                class="swiper_img"
              />
              <p class="slide-shade">
                <span class="swiper_word">é•¿è±†è§’è›‹é¥¼</span>
              </p>
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>
      </div>
    </div>
    <div class="navs">
      <div class="nav_content">
        <router-link class="nav" to="/all" title="èœè°±å¤§å…¨">
          <img class="nav_img" alt="èœè°±å¤§å…¨" src="https://m.ecook.cn/resources/m/images/1.png" />
          <span class="font14 nav_text">
         èœè°±å¤§å…¨
          </span>
        </router-link>
        <router-link class="nav" to="/menu/1" title="å®¶å¸¸èœè°±">
          <img class="nav_img" alt="å®¶å¸¸èœè°±" src="https://m.ecook.cn/resources/m/images/2.png" />
          <span class="font14 nav_text">
            å®¶å¸¸èœè°±
          </span>
        </router-link>
        <router-link class="nav" to="/menu/2" title="å¥åº·é¥®é£Ÿ">
          <img class="nav_img" alt="å¥åº·é¥®é£Ÿ" src="https://m.ecook.cn/resources/m/images/3.png" />
          <span class="font14 nav_text">
           å¥åº·é¥®é£Ÿ
          </span>
        </router-link>
        <router-link class="nav" to="/menu/3" title="å­•å©´ä¸“åŒº">
                <img class="nav_img" alt="å­•å©´ä¸“åŒº" src="https://m.ecook.cn/resources/m/images/4.png">
                <span class="font14 nav_text">
               å­•å©´ä¸“åŒº
                </span>
        </router-link>
      </div>
    </div>
    <div class="navs_item">
    <h2 class="title_h2 font18">ä»Šå¤©é€‚åˆåƒä»€ä¹ˆï¼Ÿ</h2>
    <div class="dailyRecipe recipeList">
        
            <router-link  class="recipe_content" title="åå‘³ å¤šæ±çŒªè‚‰ç…é¥º" :to="'/detail/'+item.id" v-for="(item,index) in recipeList" :key="index">
                <img class="recipe_img" v-bind:src="item.img" alt="åå‘³ å¤šæ±çŒªè‚‰ç…é¥º" onerror="handleErrorImage(262270674)">
                <span class="recipe_text font16">{{item.title}}</span>
            </router-link>
    </div>
    </div>
    <h2 class="title_h2 font18">æœ€æ–°èœè°±</h2>
    <div class="dailyRecipe recipeList">
        
            <router-link  class="recipe_content" title="å°ç‚’ç‰›è‚‰" :to="'/detail/'+item.id" v-for="(item,index) in newList" :key="index">
                <img class="recipe_img" :src="item.img" alt="å°ç‚’ç‰›è‚‰" onerror="handleErrorImage(265043483)">
                <span class="recipe_text font16">{{item.title}}</span>
            </router-link>
    </div>
    <h2 class="title_h2 font18">æœ€çƒ­èœè°±</h2>
    <div class="dailyRecipe recipeList">
        
            <router-link  class="recipe_content" title="å°ç‚’ç‰›è‚‰" :to="'/detail/'+item.id" v-for="(item,index) in hotList" :key="index">
                <img class="recipe_img" :src="item.img" alt="å°ç‚’ç‰›è‚‰" onerror="handleErrorImage(265043483)">
                <span class="recipe_text font16">{{item.title}}</span>
            </router-link> 
    </div>
    </div>
   <div class="footer">
    <div class="footer_content">
      <div class="footer_top">
				<div class="footer_top_content">
					<img src="https://m.ecook.cn/resources/m/images/icon_wx.png" class="footer_top_img" alt="å…³æ³¨å…¬ä¼—å·"> <span class="font14 footer_top_text">å…³æ³¨å…¬ä¼—å·</span>
				</div>
				<div class="footer_top_content">
					<img src="https://m.ecook.cn/resources/m/images/icon_bjh.png" class="footer_top_img" alt="å…³æ³¨ç™¾å®¶å·"> <span class="font14 footer_top_text">å…³æ³¨ç™¾å®¶å·</span>
				</div>
			</div>
    <div class="footer_description">
				<div>
					<img src="https://m.ecook.cn/resources/m/images/ecook_logo.png" class="footer_ecook_logo" alt="ç½‘ä¸Šå¨æˆ¿">
					<ul class="footer_ecook_name">
						<span class="font24 fl colorfff op7">ç½‘ä¸Šå¨æˆ¿</span>
						<br>
						<span class="font15 fl colorfff op7 footer_ecook_url">www.ecook.cn</span>
					</ul>
					<span class="font20 colorfff op7 footer_ecook_recipe"> . å¥½ç”¨çš„<span class="font20 colorfff op7 fontthin">ç¾é£Ÿèœè°±</span></span>
				</div>
				<p class="footer_ecook_desc font14 op7">
					ç½‘ä¸Šå¨æˆ¿ï¼Œä¸­æ–‡ç¾é£Ÿèœè°±åˆ†äº«ç½‘ç«™<br> 3,100,000åœ¨çº¿èœè°±ï¼Œ32,000,000ç”¨æˆ·åˆ›å»º<br> æ¯å¤©éƒ½æœ‰æ–°åˆ†äº«
				</p>
			</div>
      <div class="footer_link">
				<ul class="footer_ul">
					<li class="footer_li font12"><a rel="nofollow" href="/" class="colorfff">å…³äºæˆ‘ä»¬</a></li>
					<li class="footer_li font12"><a rel="nofollow" href="/" class="colorfff">äººæ‰æ‹›è˜</a></li>
					<li class="footer_li font12"><a rel="nofollow" href="/" class="colorfff">ç”¨æˆ·åè®®</a></li>
					<li class="footer_li font12"><a rel="nofollow" href="/" class="colorfff">å…è´£ç”³æ˜</a></li>
					<li class="footer_li font12"><a rel="nofollow" href="/" class="colorfff">æ„è§åé¦ˆ</a></li>
				</ul>
				<p class="footer_copy">
					@2019ï¼ˆecook.cn),All Rights Reserved . <a class="icp_style" href="http://www.beian.miit.gov.cn" target="_blank" rel="nofollow">æµ™ICPå¤‡11040661å·-1</a> . <a target="_blank" rel="nofollow" class="icp_style" href="http://www.beian.gov.cn/portal/registerSystemInfo">æµ™å…¬ç½‘å®‰å¤‡33010602002117å·</a>
				</p>
			</div>
       </div>
  </div>
</div>
</template>

<script>
import Swiper from "../assets/js/swiper";
export default {
  name: "Index",
  data(){
    return{
      list:'',
      recipeList:[],
      newList:[],
      hotList:[],
      lists:[]
    }
  },
  mounted() {
  if(this.$route.fullPath=='/regist'||this.$route.fullPath=='/login'){
 document.querySelector('.header').style.display='none'
} else{
    document.querySelector('.header').style.display='block'
}
    new Swiper(".swiper-container", {
      pagination: ".swiper-pagination",
      paginationClickable: true,
    });
    this.getData(1)
    this.getData(2)
    this.getData(3)
    // this.axios.get('http://localhost:3000/lists').then(res=>{
    //   this.lists=res.data
    // }).catch(err=>{
    //   console.log(err);
    // })
  },
  methods:{
    getData(page){
      this.axios.get('http://localhost:3000/index?page='+page).then(res=>{
      // console.log(res.data)
      if(page==1){
        this.recipeList=this.recipeList.concat(res.data)
      }
      if(page==2){
        this.newList=this.newList.concat(res.data)
      }
      if(page==3){
        this.hotList=this.hotList.concat(res.data)
      }
    }).catch(err=>{
      console.log(err);
    })
    },
    cli(index){
      this.$router.push('/swiper/'+index)
    }
  }
};
</script>

<style scoped>
@import "../assets/css/swiper.min.css";  
.index{
  margin-top: 0.2rem;
}
.navs{
    width: 100%;
    height: auto;
    margin-top: 0.4rem;
}
.nav_content {
    width: 100%;
    height: auto;
}
.nav {
    width: 23%;
    height: auto;
    display: inline-block;
    text-align: center;
}
.nav_img {
    width: 0.88rem;
    height: 0.9rem;
    margin: auto;
    vertical-align: middle;
    border: 0;
    max-width: 100%;
    /* vertical-align: top; */
}
.nav_text {
    margin-top: 0.36rem;
    display: inline-block;
}
.font14 {
    font-size: 0.28rem;
    line-height: 0.38rem;
    color: #292929
}
.title_h2 {
    margin-top: 0.8rem;
    color: #333333;
    text-align: center;
    margin-bottom: 0.32rem;
    font-weight: 600;
}
.font18 {
    font-size: 0.36rem;
    line-height: 0.5rem;
}
.font16 {
    font-size: 0.32rem;
    line-height: 0.44rem;
}
a{
    color: #000;
    text-decoration: none;
    display: block;
    -webkit-tap-highlight-color: rgba(0,0,0,0);
}
.font14 {
    font-size: 0.28rem;
    line-height: 0.38rem;
}
.nav_text{
    margin-top: 0.36rem;
    display: inline-block;
    color: #292929 !important
}
.swiper-pagination-bullet-active {
    opacity: 1;
    background-color: none !important;
}
 /deep/ .swiper-pagination-bullet-active {
	background-color: #ffc000 !important;
  }

</style>